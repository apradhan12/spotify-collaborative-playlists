(this["webpackJsonpspotify-collaborative-playlists"]=this["webpackJsonpspotify-collaborative-playlists"]||[]).push([[0],{57:function(e,t,s){},65:function(e,t,s){},66:function(e,t,s){},67:function(e,t,s){"use strict";s.r(t);var a=s(0),n=s.n(a),r=s(29),c=s.n(r),i=(s(57),s(13)),o=s(14),d=s(12),l=s(16),h=s(15),j=s(72),u=s(74),b=s(71),m=s(10),p=s(7),O=s(77),x=s(76),g=s(70),y=s(11),f=s(75),v=s(49),S=s(69),w={aaron1200:{username:"aaron1200",displayName:"Aaron Pradhan",profilePictureURL:"/aaron1200.jpg",playlistIds:["abc"],followers:20,following:31},joeiscool:{username:"joeiscool",displayName:"Joe Adams",profilePictureURL:"/album.jpg",playlistIds:[],followers:39,following:13},michelle1721:{username:"michelle1721",displayName:"Michelle Thompson",profilePictureURL:"/dan1.jpg",playlistIds:[],followers:1203,following:101},noah2111:{username:"noah2111",displayName:"Noah Smith",profilePictureURL:"/drh1.jpg",playlistIds:[],followers:12,following:11},hci2021:{username:"hci2021",displayName:"HCI Testing Account",profilePictureURL:"/chw.jpg",playlistIds:[],followers:12,following:42}},A={123:{id:"123",title:"(Don't Fear) The Reaper",artist:"Blue \xd6yster Cult",album:"Agents of Fortune",duration:308},456:{id:"456",title:"Don't Stop Me Now",artist:"Queen",album:"Jazz",duration:209},s1:{id:"s1",title:"Get Back",artist:"The Beatles",album:"Let It Be",duration:187},s2:{id:"s2",title:"Revolution",artist:"The Beatles",album:"The Beatles 1967 - 1970",duration:205},s3:{id:"s3",title:"Bangarang",artist:"Skrillex",album:"Bang!",duration:181},s4:{id:"s4",title:"Hero",artist:"Pegboard Nerds",album:"Hero",duration:222},s5:{id:"s5",title:"Life in Grey",artist:"Point Point",album:"Contrastive Focus Reduplication",duration:224},s6:{id:"s6",title:"Let it Be",artist:"The Beatles",album:"Let it Be",duration:243},s7:{id:"s7",title:"Baby",artist:"Justin Bieber",album:"My World 2.0",duration:215}},N={abc:{id:"abc",title:"60s/70s Rock",pictureURL:"/album.jpg",description:"Best rock songs of the 1960s and 1970s",songIds:["123","456","s7"],creator:"aaron1200",admins:["joeiscool","michelle1721"],addRequests:[{id:"r1",song:A.s1,usersVoted:["jack1298","carol1522","hd123","bigdolphin"]},{id:"r2",song:A.s2,usersVoted:["jack1298","carol1522","hd123"]}],removeRequests:[{id:"r1",song:A[456],usersVoted:["jack1298","carol1522","hd123"]}]},def:{id:"def",title:"Hype EDM",pictureURL:"/bike.jpg",description:"Big bass drops and crazy synths",songIds:["s3"],creator:"hci2021",admins:["joeiscool","michelle1721"],addRequests:[{id:"r1",song:A.s4,usersVoted:["jack1298","carol1522","hd123","bigdolphin"]},{id:"r2",song:A.s5,usersVoted:["jack1298","carol1522","hd123"]}],removeRequests:[]}},k=s(1),C=function(e){Object(l.a)(s,e);var t=Object(h.a)(s);function s(e){var a;return Object(i.a)(this,s),(a=t.call(this,e)).state={searchQuery:"",searchFocused:!1},a.updateSearchQuery=a.updateSearchQuery.bind(Object(d.a)(a)),a}return Object(o.a)(s,[{key:"updateSearchQuery",value:function(e){this.setState({searchQuery:e.target.value})}},{key:"render",value:function(){var e=this;return Object(k.jsxs)(f.a,{className:"d-flex mx-3",style:{width:"305px"},onFocus:function(){e.setState({})},children:[Object(k.jsx)(v.a,{autoFocus:!0,style:{borderColor:this.props.dark?"black":"white"},placeholder:this.props.placeholder,value:this.state.searchQuery,onChange:this.updateSearchQuery}),this.state.searchQuery?Object(k.jsxs)(S.a,{className:"w-auto",style:{position:"fixed",backgroundColor:"white",marginTop:"35px",zIndex:1e3,border:"lightgray 2px solid",borderRadius:"0px 0px 5px 5px"},children:[Object(k.jsx)("thead",{children:Object(k.jsxs)("tr",{children:[Object(k.jsx)("th",{children:"Title"}),Object(k.jsx)("th",{children:"Creator"})]})}),Object(k.jsx)("tbody",{children:Array.from(Object.entries(N)).filter((function(t){var s=Object(y.a)(t,2);s[0];return s[1].title.toLowerCase().includes(e.state.searchQuery.toLowerCase())})).map((function(t){var s=Object(y.a)(t,2),a=(s[0],s[1]);return Object(k.jsxs)("tr",{className:"dropdown-item",role:"button",style:{display:"table-row"},onClick:function(){window.location.href="#/playlist/".concat(a.id),e.setState({searchFocused:!1,searchQuery:""})},children:[Object(k.jsx)("td",{children:a.title}),Object(k.jsx)("td",{children:a.creator})]},a.id)}))})]}):""]})}}]),s}(a.Component),I=function(e){Object(l.a)(s,e);var t=Object(h.a)(s);function s(){return Object(i.a)(this,s),t.apply(this,arguments)}return Object(o.a)(s,[{key:"render",value:function(){return Object(k.jsxs)(O.a,{style:{backgroundColor:"#6eaedd"},variant:"dark",className:"museo-300",children:[Object(k.jsx)(O.a.Brand,{href:"#",children:Object(k.jsx)("p",{className:"museo-display-black m-0",children:"Spotify Collaborative Playlists"})}),Object(k.jsx)(x.a,{className:"mr-auto",children:Object(k.jsx)(C,{placeholder:"Search for playlists..."})}),this.props.user?Object(k.jsxs)(k.Fragment,{children:[Object(k.jsxs)(O.a.Text,{children:["Logged in as",Object(k.jsx)(x.a.Link,{className:"d-inline p-0 ml-2",href:"#/user/".concat(this.props.user.username),children:Object(k.jsxs)("span",{children:[this.props.user.displayName,Object(k.jsx)(g.a,{fluid:!0,src:"/spotify-collaborative-playlists"+this.props.user.profilePictureURL,style:{maxWidth:"30px",marginLeft:"5px"}})]})})]}),Object(k.jsx)(b.a,{variant:"light",className:"ml-5",onClick:function(){return window.location.reload()},children:"Log out"})]}):Object(k.jsx)(b.a,{variant:"light",onClick:this.props.toggleLoginModal(),children:"Log in"})]})}}]),s}(n.a.Component),R=s(73),q=s(50),L=function(e){Object(l.a)(s,e);var t=Object(h.a)(s);function s(){return Object(i.a)(this,s),t.apply(this,arguments)}return Object(o.a)(s,[{key:"render",value:function(){return Object(k.jsx)(j.a,{className:"museo-300",children:Object(k.jsx)(R.a,{children:Object(k.jsxs)(q.a,{className:"text-left d-flex flex-column justify-content-center align-items-center",style:{height:"92vh"},children:[Object(k.jsx)("h1",{className:"museo-display-black",children:"Spotify Collaborative Playlists"}),Object(k.jsx)(C,{placeholder:"Search for playlists...",dark:!0})]})})})}}]),s}(n.a.Component);function U(e){return"".concat(Math.floor(e/60),":").concat((e%60).toString().padStart(2,"0"))}function H(e){var t,s,a=Object(p.e)(),n=N[e.match.params.playlistId],r=w[n.creator],c=n.songIds.map((function(e){return A[e]})),i=function(){return a.push({pathname:"/playlist/".concat(n.id,"/requests"),state:{showAddSong:!0}})},o=function(){return a.push({pathname:"/playlist/".concat(n.id,"/requests"),state:{showRemoveSong:!0}})};return Object(k.jsxs)(j.a,{children:[Object(k.jsxs)(R.a,{className:"my-4",children:[Object(k.jsx)(q.a,{xs:4,children:Object(k.jsx)(g.a,{src:"/spotify-collaborative-playlists"+n.pictureURL,alt:"Album cover",fluid:!0})}),Object(k.jsxs)(q.a,{xs:4,children:[Object(k.jsx)("p",{className:"museo-display-light m-0",children:"Playlist"}),Object(k.jsx)("h1",{className:"museo-display-black",children:n.title}),Object(k.jsxs)("p",{className:"museo-300",children:["Created by ",Object(k.jsx)(m.b,{to:"/user/".concat(r.username),children:r.displayName})," \u2022 ",c.length," songs, ",(s=c.map((function(e){return e.duration})),t=s.reduce((function(e,t){return e+t}),0),"".concat(Math.floor(t/3600)," hr ").concat(Math.floor(t%3600/60)," min"))]}),Object(k.jsx)(b.a,{variant:"outline-secondary",className:"museo-300",children:"Share"})]}),Object(k.jsxs)(q.a,{xs:4,className:"text-right",children:[r.username!==e.loggedInUsername&&Object(k.jsxs)("div",{children:[Object(k.jsx)(b.a,{variant:"outline-primary",className:"museo-300 mb-2",onClick:void 0===e.loggedInUsername?e.toggleLoginModal(i):i,children:"Request to add a song"}),Object(k.jsx)("br",{}),Object(k.jsx)(b.a,{variant:"outline-danger",className:"museo-300 mb-2",onClick:void 0===e.loggedInUsername?e.toggleLoginModal(o):o,children:"Request to remove a song"}),Object(k.jsxs)(m.b,{to:"/playlist/".concat(n.id,"/requests"),children:[Object(k.jsx)(b.a,{variant:"outline-secondary",className:"museo-300 mb-2",children:"View song requests"}),Object(k.jsx)("br",{})]}),Object(k.jsx)("p",{className:"museo-300 mb-2",children:"If you're an admin of this playlist, log in to manage song requests."})]}),r.username===e.loggedInUsername&&Object(k.jsxs)("div",{children:[Object(k.jsxs)(m.b,{to:"/playlist/".concat(n.id,"/requests"),children:[Object(k.jsx)(b.a,{variant:"primary",className:"museo-300 mb-2",children:"Manage Song Requests"}),Object(k.jsx)("br",{})]}),Object(k.jsxs)(m.b,{to:"/playlist/".concat(n.id,"/admins"),children:[Object(k.jsx)(b.a,{variant:"outline-secondary",className:"museo-300 mb-2",children:"Manage Administrators"}),Object(k.jsx)("br",{})]})]})]})]}),Object(k.jsx)(R.a,{children:Object(k.jsx)(q.a,{children:Object(k.jsxs)(S.a,{striped:!0,bordered:!0,hover:!0,className:"museo-300",children:[Object(k.jsx)("thead",{children:Object(k.jsxs)("tr",{children:[Object(k.jsx)("th",{children:"#"}),Object(k.jsx)("th",{children:"Title"}),Object(k.jsx)("th",{children:"Artist"}),Object(k.jsx)("th",{children:"Album"}),Object(k.jsx)("th",{children:"Date Added"}),Object(k.jsx)("th",{children:"Duration"})]})}),Object(k.jsx)("tbody",{children:Array.from(c.entries()).map((function(e){var t=Object(y.a)(e,2),s=t[0],a=t[1];return Object(k.jsxs)("tr",{children:[Object(k.jsx)("td",{children:s+1}),Object(k.jsx)("td",{children:a.title}),Object(k.jsx)("td",{children:a.artist}),Object(k.jsx)("td",{children:a.album}),Object(k.jsx)("td",{children:"2021-03-30"}),Object(k.jsx)("td",{children:U(a.duration)})]},a.id)}))})]})})})]})}s(65),s(66);var F=function(e){Object(l.a)(s,e);var t=Object(h.a)(s);function s(){return Object(i.a)(this,s),t.apply(this,arguments)}return Object(o.a)(s,[{key:"render",value:function(){var e=this;return Object(k.jsxs)(S.a,{striped:!0,bordered:!0,hover:!0,children:[Object(k.jsx)("thead",{children:Object(k.jsxs)("tr",{children:[Object(k.jsx)("th",{className:"customHeader-1",children:"#"}),Object(k.jsx)("th",{className:"customHeader-2",children:"Title"}),Object(k.jsx)("th",{className:"customHeader-2",children:"Artist"}),Object(k.jsx)("th",{className:"customHeader-2",children:"Album"}),Object(k.jsx)("th",{className:"customHeader-1",children:"Date Added"}),Object(k.jsx)("th",{className:"customHeader-1",children:"Duration"}),Object(k.jsx)("th",{className:"customHeader-1",children:"Votes"}),Object(k.jsx)("th",{className:"customHeader-2",children:"Actions"})]})}),Object(k.jsx)("tbody",{children:Array.from(this.props.requests.entries()).map((function(t){var s=Object(y.a)(t,2),a=s[0],n=s[1];return Object(k.jsxs)("tr",{children:[Object(k.jsx)("td",{children:a+1}),Object(k.jsx)("td",{children:n.song.title}),Object(k.jsx)("td",{children:n.song.artist}),Object(k.jsx)("td",{children:n.song.album}),Object(k.jsx)("td",{children:"2021-03-30"}),Object(k.jsx)("td",{children:U(n.song.duration)}),Object(k.jsx)("td",{children:n.usersVoted.length}),!e.props.adminPermissions&&Object(k.jsx)("td",{children:Object(k.jsx)(b.a,{variant:"outline-secondary",children:"Vote for Request"})}),e.props.adminPermissions&&Object(k.jsx)("td",{children:Object(k.jsx)(b.a,{variant:"primary",onClick:e.props.handleAcceptRequest(n.song.id,n.id),children:"Accept Request"})})]},n.id)}))})]})}}]),s}(a.Component),Q={"#":1,Title:2,Artist:2,Album:2,"Date Added":2,Duration:1,Actions:2},P=function(e){Object(l.a)(s,e);var t=Object(h.a)(s);function s(e){var a;return Object(i.a)(this,s),(a=t.call(this,e)).state={showAddSong:void 0!==a.props.location.state&&!0===a.props.location.state.showAddSong,showRemoveSong:void 0!==a.props.location.state&&!0===a.props.location.state.showRemoveSong,addSearchQuery:"",selectedAddSongId:"",addSearchFocused:!1,removeSongIds:[]},a.toggleAddSong=a.toggleAddSong.bind(Object(d.a)(a)),a.toggleRemoveSong=a.toggleRemoveSong.bind(Object(d.a)(a)),a.updateSearchQuery=a.updateSearchQuery.bind(Object(d.a)(a)),a.handleAcceptAddRequest=a.handleAcceptAddRequest.bind(Object(d.a)(a)),a.handleAcceptRemoveRequest=a.handleAcceptRemoveRequest.bind(Object(d.a)(a)),a}return Object(o.a)(s,[{key:"toggleAddSong",value:function(){this.setState((function(e){return{addSearchQuery:"",addSearchFocused:!1,selectedAddSongId:"",showAddSong:!e.showAddSong}}))}},{key:"toggleRemoveSong",value:function(){this.setState((function(e){return{removeSongIds:[],showRemoveSong:!e.showRemoveSong}}))}},{key:"updateSearchQuery",value:function(e){this.setState({addSearchQuery:e.target.value})}},{key:"handleAcceptAddRequest",value:function(e,t){var s=this;return function(){var a=N[s.props.match.params.playlistId];a.addRequests=a.addRequests.filter((function(e){return e.id!==t})),a.songIds=a.songIds.concat(e),N[s.props.match.params.playlistId]=a,s.forceUpdate()}}},{key:"handleAcceptRemoveRequest",value:function(e,t){var s=this;return function(){var a=N[s.props.match.params.playlistId];a.addRequests=a.addRequests.filter((function(e){return e.id!==t})),a.songIds=a.songIds.filter((function(t){return t!==e})),N[s.props.match.params.playlistId]=a,s.forceUpdate()}}},{key:"render",value:function(){var e=this,t=N[this.props.match.params.playlistId],s=w[t.creator],a=t.songIds.map((function(e){return A[e]}));return Object(k.jsxs)(j.a,{className:"museo-300",children:[Object(k.jsx)(R.a,{className:"mt-4",children:Object(k.jsx)(q.a,{xs:12,children:Object(k.jsx)(m.b,{to:"/playlist/".concat(t.id),children:"\u2190 Go back to playlist"})})}),Object(k.jsxs)(R.a,{className:"mb-4",children:[Object(k.jsxs)(q.a,{xs:8,children:[Object(k.jsx)("h1",{className:"museo-display-black",children:"Song Requests"}),"Playlist: ",Object(k.jsx)(m.b,{to:"/playlist/".concat(t.id),children:t.title})," by ",Object(k.jsx)(m.b,{to:"/user/".concat(s.username),children:s.displayName})]}),Object(k.jsx)(q.a,{xs:4,className:"text-right",children:s.username!==this.props.loggedInUsername&&Object(k.jsxs)("div",{children:[Object(k.jsx)(b.a,{variant:"outline-primary",className:"museo-300 mb-2",onClick:void 0===this.props.loggedInUsername?this.props.toggleLoginModal((function(){return e.props.history.replace({state:{showAddSong:!0}})})):this.toggleAddSong,children:"Request to add a song"}),Object(k.jsx)("br",{}),Object(k.jsx)(b.a,{variant:"outline-danger",className:"museo-300 mb-2",onClick:void 0===this.props.loggedInUsername?this.props.toggleLoginModal((function(){return e.props.history.replace({state:{showRemoveSong:!0}})})):this.toggleRemoveSong,children:"Request to remove a song"})]})})]}),Object(k.jsx)(R.a,{className:"mb-4",children:Object(k.jsxs)(q.a,{children:[Object(k.jsx)("h2",{className:"museo-display-light",children:"Add Song Requests"}),Object(k.jsx)(F,{handleAcceptRequest:this.handleAcceptAddRequest,adminPermissions:s.username===this.props.loggedInUsername,requests:t.addRequests})]})}),Object(k.jsx)(R.a,{className:"mb-4",children:Object(k.jsxs)(q.a,{children:[Object(k.jsx)("h2",{className:"museo-display-light",children:"Remove Song Requests"}),Object(k.jsx)(F,{handleAcceptRequest:this.handleAcceptRemoveRequest,adminPermissions:s.username===this.props.loggedInUsername,requests:t.removeRequests})]})}),Object(k.jsxs)(u.a,{show:this.state.showAddSong,animation:!1,dialogClassName:"larger-width-modal museo-300",backdrop:"static",children:[Object(k.jsx)(u.a.Header,{children:Object(k.jsx)(u.a.Title,{className:"museo-display-black",children:"Request to add a song"})}),Object(k.jsx)(u.a.Body,{className:"px-3",children:Object(k.jsxs)(f.a,{onFocus:function(){return e.setState({addSearchFocused:!0})},children:[Object(k.jsx)(v.a,{autoFocus:!0,className:"my-2 w-auto",placeholder:"Type the song title here...",value:this.state.addSearchQuery,onChange:this.updateSearchQuery}),!this.state.addSearchQuery||this.state.selectedAddSongId&&!this.state.addSearchFocused?"":Object(k.jsxs)(S.a,{className:"mx-3 w-auto",children:[Object(k.jsx)("thead",{children:Object(k.jsxs)("tr",{children:[Object(k.jsx)("th",{children:"Song"}),Object(k.jsx)("th",{children:"Artist"}),Object(k.jsx)("th",{children:"Album"})]})}),Object(k.jsx)("tbody",{children:Array.from(Object.entries(A)).filter((function(t){var s=Object(y.a)(t,2);s[0];return s[1].title.toLowerCase().includes(e.state.addSearchQuery.toLowerCase())})).map((function(t){var s=Object(y.a)(t,2),a=(s[0],s[1]);return Object(k.jsxs)("tr",{className:"dropdown-item",role:"button",style:{display:"table-row"},onClick:function(){return e.setState({selectedAddSongId:a.id,addSearchFocused:!1})},children:[Object(k.jsx)("td",{children:a.title}),Object(k.jsx)("td",{children:a.artist}),Object(k.jsx)("td",{children:a.album})]},a.id)}))})]}),this.state.selectedAddSongId?A[this.state.selectedAddSongId].title:""]})}),Object(k.jsxs)(u.a.Footer,{style:{justifyContent:"flex-start"},children:[Object(k.jsx)(b.a,{variant:"outline-secondary",onClick:this.toggleAddSong,children:"Close this window"}),this.state.selectedAddSongId?Object(k.jsx)(b.a,{variant:"primary",onClick:function(){N[t.id].addRequests.push({id:"r".concat(N[t.id].addRequests.length+1),song:A[e.state.selectedAddSongId],usersVoted:["me"]}),e.setState({addSearchQuery:"",addSearchFocused:!1,selectedAddSongId:"",showAddSong:!1})},children:"Request this song"}):""]})]}),Object(k.jsxs)(u.a,{show:this.state.showRemoveSong,animation:!1,dialogClassName:"larger-width-modal museo-300",backdrop:"static",children:[Object(k.jsx)(u.a.Header,{children:Object(k.jsx)(u.a.Title,{className:"museo-display-black",children:"Request to remove a song"})}),Object(k.jsx)(u.a.Body,{children:Object(k.jsxs)(S.a,{striped:!0,bordered:!0,hover:!0,children:[Object(k.jsx)("thead",{children:Object(k.jsx)("tr",{children:Array.from(Object.entries(Q)).map((function(e){var t=Object(y.a)(e,2),s=t[0],a=t[1];return Object(k.jsx)("th",{className:"customHeader-"+a,children:s},s)}))})}),Object(k.jsx)("tbody",{children:Array.from(a.entries()).map((function(t){var s=Object(y.a)(t,2),a=s[0],n=s[1];return e.state.removeSongIds.includes(n.id)?Object(k.jsx)("tr",{children:Object(k.jsxs)("td",{colSpan:Object.keys(Q).length,children:["You requested to remove ",n.title,".\xa0",Object(k.jsx)(b.a,{variant:"outline-secondary",onClick:function(){return e.setState((function(e){return{removeSongIds:e.removeSongIds.filter((function(e){return e!==n.id}))}}))},children:"Undo"})]})},n.id):Object(k.jsxs)("tr",{children:[Object(k.jsx)("td",{children:a+1}),Object(k.jsx)("td",{children:n.title}),Object(k.jsx)("td",{children:n.artist}),Object(k.jsx)("td",{children:n.album}),Object(k.jsx)("td",{children:"2021-03-30"}),Object(k.jsx)("td",{children:U(n.duration)}),Object(k.jsx)("td",{children:Object(k.jsx)(b.a,{variant:"outline-danger",onClick:function(){return e.setState((function(e){return e.removeSongIds.includes(n.id)?{removeSongIds:e.removeSongIds}:{removeSongIds:e.removeSongIds.concat(n.id)}}))},children:"Request to remove"})})]},n.id)}))})]})}),Object(k.jsx)(u.a.Footer,{style:{justifyContent:"flex-start"},children:Object(k.jsx)(b.a,{variant:"primary",onClick:function(){e.state.removeSongIds.forEach((function(s){N[t.id].removeRequests.push({id:"s1234",song:A[s],usersVoted:["me"]}),e.setState({addSearchQuery:"",addSearchFocused:!1,removeSongIds:[],showAddSong:!1}),e.toggleRemoveSong()}))},children:"Finish requesting song removals"})})]})]})}}]),s}(n.a.Component),M=function(e){Object(l.a)(s,e);var t=Object(h.a)(s);function s(){return Object(i.a)(this,s),t.apply(this,arguments)}return Object(o.a)(s,[{key:"render",value:function(){var e=w[this.props.match.params.username],t=e.playlistIds.map((function(e){return N[e]}));return Object(k.jsxs)(j.a,{className:"museo-300",children:[Object(k.jsxs)(R.a,{className:"my-4",children:[Object(k.jsx)(q.a,{xs:4,children:Object(k.jsx)(g.a,{src:"/spotify-collaborative-playlists"+e.profilePictureURL,alt:"".concat(e.displayName,"'s profile"),fluid:!0})}),Object(k.jsxs)(q.a,{xs:8,children:[Object(k.jsx)("h1",{className:"museo-display-black",children:e.displayName}),Object(k.jsxs)("p",{className:"m-0",children:[e.followers," followers"]}),Object(k.jsxs)("p",{children:[t.length," playlists"]})]})]}),Object(k.jsx)(R.a,{children:Object(k.jsxs)(q.a,{children:[Object(k.jsx)("h3",{className:"museo-display-light",children:"User Playlists"}),Object(k.jsxs)(S.a,{striped:!0,bordered:!0,hover:!0,className:"museo-300",children:[Object(k.jsx)("thead",{children:Object(k.jsxs)("tr",{children:[Object(k.jsx)("th",{children:"Title"}),Object(k.jsx)("th",{children:"Date Created"}),Object(k.jsx)("th",{children:"Number of Songs"}),Object(k.jsx)("th",{children:"Duration"})]})}),Object(k.jsx)("tbody",{children:Array.from(Object.entries(N)).filter((function(t){var s=Object(y.a)(t,2);s[0];return s[1].creator===e.username})).map((function(e){var t=Object(y.a)(e,2),s=(t[0],t[1]);return Object(k.jsxs)("tr",{children:[Object(k.jsx)("td",{children:Object(k.jsx)(m.b,{to:"/playlist/".concat(s.id),children:s.title})}),Object(k.jsx)("td",{children:"2021-03-30"}),Object(k.jsx)("td",{children:s.songIds.length}),Object(k.jsx)("td",{children:"9 min"})]},s.id)}))})]})]})})]})}}]),s}(n.a.Component),T=function(e){Object(l.a)(s,e);var t=Object(h.a)(s);function s(e){var a;return Object(i.a)(this,s),(a=t.call(this,e)).state={showHide:!1,searchQuery:"",selectedAdminUsername:"",searchFocused:!1},a.handleModalShowHide=a.handleModalShowHide.bind(Object(d.a)(a)),a.updateSearchQuery=a.updateSearchQuery.bind(Object(d.a)(a)),a}return Object(o.a)(s,[{key:"handleModalShowHide",value:function(){this.setState({showHide:!this.state.showHide})}},{key:"updateSearchQuery",value:function(e){this.setState({searchQuery:e.target.value})}},{key:"render",value:function(){var e=this,t=N[this.props.match.params.playlistId],s=w[t.creator];return Object(k.jsxs)(j.a,{className:"museo-300",children:[Object(k.jsx)(R.a,{className:"my-4",children:Object(k.jsxs)(q.a,{xs:12,children:[Object(k.jsx)(m.b,{to:"/playlist/".concat(t.id),children:"\u2190 Go back to playlist"}),Object(k.jsx)("h1",{className:"museo-display-black",children:"Manage Administrators"}),Object(k.jsxs)("p",{children:["Playlist: ",Object(k.jsx)(m.b,{to:"/playlist/".concat(t.id),children:t.title})," by ",Object(k.jsx)(m.b,{to:"/user/".concat(s.username),children:s.displayName})]})]})}),Object(k.jsx)(R.a,{className:"mb-4",children:Object(k.jsxs)(q.a,{xs:12,children:[Object(k.jsx)("h3",{className:"museo-display-light",children:"Current Administrators"}),t.admins.length>0&&Object(k.jsx)("ul",{children:t.admins.map((function(e){return Object(k.jsx)("li",{children:Object(k.jsx)("p",{className:"m-0",children:e})},e)}))}),!(t.admins.length>0)&&Object(k.jsx)("p",{children:"There are no admins for this playlist. Add one to help manage requests."})]})}),Object(k.jsx)(R.a,{className:"mb-2",children:Object(k.jsx)(q.a,{xs:12,children:Object(k.jsx)(b.a,{variant:"primary",onClick:function(){return e.handleModalShowHide()},children:"Add new Administrator"})})}),Object(k.jsx)(R.a,{children:Object(k.jsx)(q.a,{xs:12,children:Object(k.jsx)(b.a,{variant:"danger",children:"Remove an Administrator"})})}),Object(k.jsxs)(u.a,{show:this.state.showHide,backdrop:"static",dialogClassName:"museo-300",children:[Object(k.jsx)(u.a.Header,{onClick:function(){return e.handleModalShowHide()},children:Object(k.jsx)(u.a.Title,{className:"museo-display-black",children:"Add new Administrator"})}),Object(k.jsx)(u.a.Body,{children:Object(k.jsxs)(f.a,{onFocus:function(){return e.setState({searchFocused:!0})},children:[Object(k.jsx)(v.a,{autoFocus:!0,className:"mx-3 my-2 w-auto",placeholder:"Type a username...",value:this.state.searchQuery,onChange:this.updateSearchQuery}),!this.state.searchQuery||this.state.selectedAdminUsername&&!this.state.searchFocused?"":Object(k.jsxs)(S.a,{className:"mx-3 w-auto",children:[Object(k.jsx)("thead",{children:Object(k.jsx)("tr",{children:Object(k.jsx)("th",{children:"Users"})})}),Object(k.jsx)("tbody",{children:Array.from(Object.entries(w)).filter((function(s){var a=Object(y.a)(s,2),n=(a[0],a[1]);return n.username.toLowerCase().includes(e.state.searchQuery.toLowerCase())&&!t.admins.includes(n.username)})).map((function(t){var s=Object(y.a)(t,2),a=(s[0],s[1]);return Object(k.jsx)("tr",{className:"dropdown-item",role:"button",style:{display:"table-row"},onClick:function(){e.setState({selectedAdminUsername:a.username,searchFocused:!1}),console.log(a.username)},children:Object(k.jsx)("td",{children:a.username})})}))})]}),this.state.selectedAdminUsername?w[this.state.selectedAdminUsername].username:""]})}),Object(k.jsxs)(u.a.Footer,{style:{justifyContent:"flex-start"},children:[Object(k.jsx)(b.a,{variant:"secondary",onClick:function(){e.setState({searchQuery:"",searchFocused:!1,selectedAdminUsername:"",showHide:!1})},children:"Close this window"}),this.state.selectedAdminUsername?Object(k.jsx)(b.a,{variant:"primary",onClick:function(){N[t.id].admins.push(w[e.state.selectedAdminUsername].username),e.setState({searchQuery:"",searchFocused:!1,selectedAdminUsername:"",showHide:!1})},children:"Add Administrator"}):""]})]})]})}}]),s}(n.a.Component),B=function(e){Object(l.a)(s,e);var t=Object(h.a)(s);function s(e){var a;return Object(i.a)(this,s),(a=t.call(this,e)).state={showHide:!1,loggedInUser:null,inputUsername:"",inputPassword:""},a.handleModalShowHide=a.handleModalShowHide.bind(Object(d.a)(a)),a.handleLoginSubmission=a.handleLoginSubmission.bind(Object(d.a)(a)),a}return Object(o.a)(s,[{key:"handleModalShowHide",value:function(e){var t=this;return function(){t.setState((function(t){return{showHide:!t.showHide,loginCallback:e}}))}}},{key:"handleLoginInput",value:function(e){var t=this;return"username"===e?function(e){t.setState({inputUsername:e.target.value})}:function(e){t.setState({inputPassword:e.target.value})}}},{key:"handleLoginSubmission",value:function(){this.state.inputUsername&&this.state.inputPassword&&"password"===this.state.inputPassword.toLowerCase()&&"hci2021"===this.state.inputUsername.toLowerCase()&&(void 0!==this.state.loginCallback&&this.state.loginCallback(),this.setState({loggedInUser:w.hci2021,showHide:!1,inputPassword:"",inputUsername:"",loginCallback:void 0}))}},{key:"render",value:function(){var e=this,t=this.state.loggedInUser;return Object(k.jsxs)("div",{children:[Object(k.jsx)(I,{user:t,toggleLoginModal:this.handleModalShowHide}),Object(k.jsxs)(j.a,{fluid:!0,children:[Object(k.jsxs)(m.a,{children:[Object(k.jsx)(p.a,{path:"/",component:L,exact:!0}),Object(k.jsx)(p.a,{path:"/playlist/:playlistId",component:function(s){var a=s.match;return Object(k.jsx)(H,{loggedInUsername:t?t.username:void 0,match:a,toggleLoginModal:e.handleModalShowHide})},exact:!0}),Object(k.jsx)(p.a,{path:"/playlist/:playlistId/requests",component:function(s){var a=s.match,n=s.location,r=s.history;return Object(k.jsx)(P,{loggedInUsername:t?t.username:void 0,match:a,location:n,history:r,toggleLoginModal:e.handleModalShowHide})},exact:!0}),Object(k.jsx)(p.a,{path:"/user/:username",component:M,exact:!0}),Object(k.jsx)(p.a,{path:"/playlist/:playlistId/admins",component:T,exact:!0})]}),Object(k.jsxs)(u.a,{show:this.state.showHide,animation:!1,backdrop:"static",children:[Object(k.jsx)(u.a.Header,{onClick:function(){return e.handleModalShowHide()},children:Object(k.jsx)(u.a.Title,{children:"Log into your account"})}),Object(k.jsx)(u.a.Body,{children:Object(k.jsxs)(f.a,{children:[Object(k.jsxs)(f.a.Group,{controlId:"formUsername",children:[Object(k.jsx)(f.a.Label,{children:"Username"}),Object(k.jsx)(f.a.Control,{type:"text",placeholder:"Enter username...",value:this.state.inputUsername,onChange:this.handleLoginInput("username")})]}),Object(k.jsxs)(f.a.Group,{controlId:"formPassword",children:[Object(k.jsx)(f.a.Label,{children:"Password"}),Object(k.jsx)(f.a.Control,{type:"password",placeholder:"Enter password...",value:this.state.inputPassword,onChange:this.handleLoginInput("password")})]})]})}),Object(k.jsxs)(u.a.Footer,{style:{justifyContent:"flex-start"},children:[Object(k.jsx)(b.a,{variant:"primary",onClick:this.handleLoginSubmission,children:"Log in"}),Object(k.jsx)(b.a,{variant:"outline-danger",onClick:function(){e.setState({inputPassword:"",inputUsername:"",showHide:!1,loginCallback:void 0})},children:"Close this window"})]})]})]})]})}}]),s}(n.a.Component),D=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,78)).then((function(t){var s=t.getCLS,a=t.getFID,n=t.getFCP,r=t.getLCP,c=t.getTTFB;s(e),a(e),n(e),r(e),c(e)}))};c.a.render(Object(k.jsx)(n.a.StrictMode,{children:Object(k.jsx)(B,{})}),document.getElementById("root")),D()}},[[67,1,2]]]);
//# sourceMappingURL=main.da541ea5.chunk.js.map